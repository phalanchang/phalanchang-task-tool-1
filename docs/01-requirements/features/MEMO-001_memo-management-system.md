# MEMO-001: メモ管理システム機能

## 📋 機能概要

| ID | 作業内容 | ステータス | 実装日 | 担当者 |
|---|---|---|---|---|
| MEMO-001 | メモ管理システム機能 | 🔄 進行中 | 2025-07-11 | PM (Claude Code Assistant) |

## 📝 機能詳細

### MEMO-001: メモ管理システム機能

- **概要**: タスク管理アプリケーションにメモ機能を追加し、ユーザーがマークダウン形式でメモを作成・編集・削除・参照できるシステム
- **ステータス**: 🔄 進行中（2025-07-11開始）
- **想定実装期間**: 1-2スプリント

## 📋 要件定義

### 1. 機能要件

#### 1.1 メモ管理機能

##### 1.1.1 メモ新規作成
- **機能**: 新しいメモの作成
- **入力項目**:
  - タイトル（必須、255文字以内）
  - 内容（任意、マークダウン形式、10,000文字以内）
- **制約条件**:
  - タイトルは必須項目
  - 内容はマークダウン形式で記述
  - 自動保存：編集中5秒間無操作で下書き保存

##### 1.1.2 メモ一覧表示
- **機能**: 作成されたメモの一覧表示
- **表示項目**:
  - タイトル
  - 作成日時、更新日時
  - 内容プレビュー（100文字程度）
- **表示形式**: 既存TaskCardと統一されたカード形式
- **ソート機能**: 作成日時の降順（デフォルト）

##### 1.1.3 メモ編集
- **機能**: 既存メモの内容変更
- **編集可能項目**: タイトル、内容
- **エディター機能**:
  - タブ切り替え式（編集モード/プレビューモード）
  - マークダウンシンタックス対応
  - 保存ボタンでの明示的保存

##### 1.1.4 メモ削除
- **機能**: 不要なメモの削除
- **制約条件**: 論理削除（復旧可能性を考慮）
- **確認機能**: 削除前の確認ダイアログ

##### 1.1.5 メモ参照
- **機能**: 保存されたメモの閲覧
- **表示形式**: マークダウンレンダリング済み表示
- **操作**: 編集モードへの切り替え

#### 1.2 検索・フィルタリング機能（第1段階）

##### 1.2.1 基本検索
- **機能**: タイトルによる部分一致検索
- **検索対象**: メモタイトル
- **検索方式**: リアルタイム検索（入力時即座に絞り込み）

##### 1.2.2 並び替え機能（第2段階で実装）
- **ソート条件**:
  - 作成日時（昇順/降順）
  - 更新日時（昇順/降順）
  - タイトル（昇順/降順）

#### 1.3 将来拡張機能（第3段階）
- タグ付け機能
- カテゴリ分類
- お気に入り機能
- 高度な全文検索

### 2. 非機能要件

#### 2.1 パフォーマンス要件
- **レスポンス時間**: 2秒以内（既存システムと同等）
- **メモ表示**: 1秒以内
- **検索応答**: 500ms以内

#### 2.2 データ要件
- **文字数制限**:
  - タイトル: 255文字以内
  - 内容: 10,000文字以内
- **ファイル形式**: マークダウン（.md）
- **エンコーディング**: UTF-8

#### 2.3 UI/UX要件
- **デザイン統一**: 既存のタスク管理画面と統一されたデザイン
- **レスポンシブ対応**: 768px以上のデバイス対応
- **アクセシビリティ**: 基本的なキーボード操作対応

### 3. システム設計要件

#### 3.1 データベース設計
- **テーブル名**: `memos`
- **主要フィールド**:
  - `id`: プライマリキー
  - `user_id`: ユーザーID（既存システムとの整合性）
  - `title`: タイトル（VARCHAR(255)）
  - `content`: 内容（TEXT）
  - `created_at`: 作成日時
  - `updated_at`: 更新日時
  - `is_deleted`: 削除フラグ（論理削除用）

#### 3.2 API設計
- **エンドポイント**:
  - `GET /api/memos`: メモ一覧取得
  - `POST /api/memos`: メモ新規作成
  - `GET /api/memos/:id`: 特定メモ取得
  - `PUT /api/memos/:id`: メモ更新
  - `DELETE /api/memos/:id`: メモ削除

#### 3.3 フロントエンド設計
- **新規画面**: `/memos`
- **サイドバー追加**: 「メモ」ナビゲーション項目
- **コンポーネント**:
  - `MemoPage.tsx`: メイン画面
  - `MemoList.tsx`: メモ一覧表示
  - `MemoCard.tsx`: 個別メモカード
  - `MemoEditor.tsx`: メモ編集画面
  - `MemoViewer.tsx`: メモ閲覧画面

### 4. 技術仕様

#### 4.1 技術スタック
- **フロントエンド**: React 18 + TypeScript（既存と同じ）
- **バックエンド**: Node.js + Express（既存と同じ）
- **データベース**: MySQL 8.0（既存と同じ）
- **マークダウン処理**: react-markdown、remark-gfm

#### 4.2 ファイル管理
- **保存形式**: データベース内で完全管理
- **エクスポート機能**: 将来的に`memo_{id}_{timestamp}.md`形式でダウンロード可能
- **バックアップ**: 既存のデータベースバックアップに含める

### 5. 実装フェーズ

#### Phase 1: 基本機能（第1スプリント）
1. データベース設計・マイグレーション
2. 基本API実装（CRUD操作）
3. サイドバーナビゲーション追加
4. メモ一覧画面実装
5. メモ作成・編集・削除機能実装

#### Phase 2: UI/UX改善（第2スプリント）
1. マークダウンエディター・プレビュー機能
2. 検索機能実装
3. 並び替え機能実装
4. レスポンシブデザイン調整

#### Phase 3: 拡張機能（将来実装）
1. タグ付け機能
2. 高度な検索機能
3. エクスポート機能
4. カテゴリ分類機能

### 6. テスト要件

#### 6.1 機能テスト
- メモのCRUD操作
- マークダウンレンダリング
- 検索機能
- データバリデーション

#### 6.2 非機能テスト
- レスポンス時間測定
- 大量データでのパフォーマンステスト
- モバイル表示確認

### 7. 受け入れ基準

#### 7.1 必須機能
- [ ] サイドバーに「メモ」項目が追加されている
- [ ] メモの新規作成ができる
- [ ] メモの一覧表示ができる
- [ ] メモの編集ができる
- [ ] メモの削除ができる
- [ ] マークダウン形式で保存・表示される
- [ ] タイトル検索ができる

#### 7.2 品質基準
- [ ] 既存デザインとの統一性が保たれている
- [ ] レスポンス時間が要件を満たしている
- [ ] エラーハンドリングが適切に実装されている
- [ ] データバリデーションが機能している

---

## 📂 関連ファイル

- **API仕様**: `docs/waterfall/API定義/`（実装時に追加予定）
- **データベース定義**: `docs/waterfall/データベース定義/`（実装時に追加予定）
- **画面定義**: `docs/waterfall/画面定義/`（実装時に追加予定）

## 🔄 更新履歴

- 2025-07-11: 初版作成（要件定義完了）